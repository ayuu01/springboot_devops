
pipeline {
    agent any
    
    stages {
        stage('Build project') {
            steps {
               bat 'mvn clean -f SpringBootDevops/pom.xml'
            }
        }
        stage('Build Docker Image') {
            steps {
               script {
                   bat 'docker build -t devops/devops-assignment -f ./Dockerfile .'
               }
            }
        }
        stage('Push Image to Hub') {
            steps {
               script {
                   bat 'docker login --username ayuu01 --password docker_01'
                   bat 'docker tag devops/devops-assignment:latest ayuu01/ayushi:latest'
                   bat 'docker push ayuu01/ayushi:latest'
               }
            }
        }
       
        
    }
}
